# X-IDE 版本历史

## v1.6 (当前版本)

### 🚀 新增功能
- **API模式切换按钮**：在标题栏添加可视化API模式切换按钮
  - 🌐 图标表示浏览器API模式
  - 🖥️ 图标表示服务器API模式
  - 一键切换，智能提示当前模式
- **增强的错误处理**：
  - 文件句柄有效性检查
  - 详细的错误代码和解决方案
  - 智能错误消息映射系统
- **改进的用户体验**：
  - 切换模式时自动清空文件树
  - 智能提示用户重新选择工作目录
  - 自动打开文件夹选择对话框

### 🔧 技术改进
- **文件系统管理器增强**：
  - 添加文件句柄类型检查
  - 增强错误处理和日志记录
  - 改进的目录遍历错误捕获
- **文件管理器优化**：
  - 增强的文件打开错误处理
  - 改进的错误消息显示逻辑
  - 智能错误解决方案提示

### 🐛 问题修复
- 修复了"fileHandle.getFile is not a function"错误
- 修复了"无法打开文件夹: 未知错误"问题
- 改进了文件句柄损坏时的错误处理
- 增强了目录不存在时的错误提示

### 📦 文件大小
- 压缩包大小：约6.0MB
- 主要新增：API模式切换功能和增强的错误处理

---

## v1.5

### 🚀 新增功能
- **双模式文件系统**：创新的智能文件系统架构
  - 浏览器API模式：使用原生File System Access API（安全但需要HTTPS）
  - 服务器API模式：通过Node.js后端进行文件操作（兼容性好）
  - 智能切换：自动检测环境并选择最适合的模式
- **完整的服务器端API支持**：
  - `/api/directory/exists` - 检查目录是否存在
  - `/api/directory/read` - 读取目录内容
  - `/api/file/read` - 读取文件内容
  - `/api/file/write` - 写入文件内容
  - `/api/file/create` - 创建新文件
  - `/api/folder/create` - 创建新文件夹
  - `/api/delete` - 删除文件或文件夹
  - `/api/rename` - 重命名文件或文件夹
- **智能环境检测**：自动判断使用浏览器API还是服务器API
- **回退机制**：服务器API失败时自动回退到浏览器API
- **技术文档**：详细的技术对比分析文档

### 🔧 技术改进
- **模块化架构**：重构文件系统管理器，支持双模式
- **错误处理**：完善的错误处理和日志记录
- **性能优化**：智能模式选择，提供最佳性能
- **向后兼容**：保持与现有功能的完全兼容

### 📦 文件大小
- 压缩包大小：约5.9MB
- 主要新增：服务器API功能和技术文档

## v1.4
- VSCode风格文件管理器
- 智能文件图标系统
- 右键上下文菜单
- 文件夹展开/折叠功能

## v1.3
- 代码折叠/展开功能
- 多光标编辑支持
- 代码格式化功能
- 增强的代码提示

## v1.2
- Markdown支持
- 文件拖拽排序
- 文件重命名功能
- 文件夹创建和删除

## v1.1
- 文件搜索过滤
- 主题切换功能
- 多标签编辑
- 底部面板

## v1.0
- 基础编辑器功能
- 文件管理基础
- 响应式UI设计
- 基础快捷键支持

---

**发布日期**：2025年10月21日
**版本大小**：约6.0MB（压缩包）
**主要贡献**：增强了错误处理和用户体验，添加了可视化的API模式切换功能，提供了更稳定的文件操作体验